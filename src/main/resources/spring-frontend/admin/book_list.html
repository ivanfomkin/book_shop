<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å üìö</title>
    <meta name="description" content="–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link href="../favicon.ico" rel="shortcut icon">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-SemiBold.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Light.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-Medium.woff2" as="font" crossorigin="anonymous">
    <link rel="preload" href="/assets/fonts/Montserrat/Montserrat-ExtraBold.woff2" as="font" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/fonts.min.css?v=59641147">
    <link rel="stylesheet" href="/assets/css/basic.min.css?v=59641147">
    <link rel="stylesheet" href="/assets/css/extra.min.css?v=59641147">
    <link rel="stylesheet" href="/assets/css/pagination.css">
    <script src="/assets/plg/html5shiv/html5shiv.js"></script>
    <script src="/assets/plg/html5shiv/html5shiv-printshiv.js"></script>
    <script defer="defer" src="/assets/js/scripts.min.js?v=59641147"></script>
</head>
<body class="Site">
<header class="Header"
        th:replace="~{fragments/common_header_fragment :: head(admin='menu-item menu-item_ACTIVE', status='unauthorized')}"></header>
<div class="Middle">
    <div class="wrap">
        <main class="Middle-main">
            <h1 class="Middle-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏
            </h1>
            <br>
            <div class="Header-search">
                <div class="search">
                    <div class="form form_search">
                        <input class="search-input" id="adminQuery" name="query" type="text"
                               placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é" value="" th:value="${searchQuery}"/>
                        <a class="search-button" type="button" name="search" id="search"
                           onclick="window.location.href='/admin/books/?searchQuery=' + document.getElementById('adminQuery').value">–ü–æ–∏—Å–∫</a>
                    </div>
                </div>
            </div>
            <div class="Section">
                    <div class="Profile-btn">
                        <a class="btn btn_primary" th:href="@{/admin/books/create}"type="submit">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</a>
                    </div>
                <div class="tableWrap">
                    <table class="table table_noMargin">
                        <thead>
                        <tr>
                            <th>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä</th>
                            <th>–ó–∞–≥–æ–ª–æ–≤–æ–∫</th>
                            <th>–ê–≤—Ç–æ—Ä—ã</th>
                            <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
                            <th>–°—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ —Å–∫–∏–¥–∫–æ–π</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="book : ${bookList.getBooks()}">
                            <td th:text="${book.getId()}">id</td>
                            <td><a th:text="${book.getTitle()}" th:href="@{/books/} + ${book.getSlug()}"></a></td>
                            <td th:text="${book.getAuthors()}"></td>
                            <td th:text="${#numbers.formatDecimal(book.getPrice(), 0, 'WHITESPACE', 0, 'POINT') + ' —Ä—É–±.'}"></td>
                            <td th:text="${#numbers.formatDecimal(book.getDiscountPrice(), 0, 'WHITESPACE', 0, 'POINT') + ' —Ä—É–±.'}"></td>
                            <td><a type="button" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" th:href="@{/admin/books/edit/} + ${book.getSlug()}">üñä</a></td>
                            <td><a type="button" title="–£–¥–∞–ª–∏—Ç—å" th:href="@{/admin/books/delete/} + ${book.getSlug()}">‚ùå</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div style="display: flex; overflow-x: auto">
                <div th:if="${bookList.getTotal() > bookList.getPerPage()}" class="pagination"
                     th:each="pageNumber : ${#numbers.sequence(0, (bookList.getTotal()/bookList.getPerPage() - 1))}">
                    <a th:href="@{/admin/books/(perPage=${bookList.getPerPage()}, page=${pageNumber}, searchQuery=${searchQuery})}"
                       th:text="${pageNumber + 1}"
                       th:class="${pageNumber== bookList.getPage()} ? active"></a>
                </div>
            </div>
        </main>
    </div>
</div>
<footer class="Footer" th:replace="~{fragments/common_footer_fragment :: footer}"></footer>
<script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
</body>
</html>